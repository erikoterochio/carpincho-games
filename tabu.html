<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CYTN5F1X5W"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-CYTN5F1X5W');
  </script>
  <meta charset="UTF-8" />
  <title>Tab√∫ ¬∑ Carpincho Games</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="common-styles.css">
  <style>
    /* Estilos espec√≠ficos de Tab√∫ */
    body {
      padding-top: 60px;
    }

    .app {
      max-width: 500px;
    }

    .number-control {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
    }

    .number-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 2px solid var(--sky);
      background: white;
      color: var(--sky);
      font-size: 1.3rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.15s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .number-btn:hover {
      background: var(--sky);
      color: white;
    }

    .number-display {
      font-size: 1.6rem;
      font-weight: 700;
      color: var(--indigo);
      min-width: 80px;
      text-align: center;
    }

    /* Game screen */
    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .current-team-info {
      flex: 1;
      background: white;
      border-radius: 12px;
      padding: 12px 16px;
      border: 2px solid var(--sky);
      background: #e0f2fe;
    }

    .team-name {
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--sky);
      margin-bottom: 4px;
    }

    .team-points {
      font-size: 2rem;
      font-weight: 700;
      color: var(--indigo);
      line-height: 1;
    }

    .timer {
      background: var(--indigo);
      color: white;
      font-size: 2rem;
      font-weight: 700;
      text-align: center;
      padding: 16px 20px;
      border-radius: 12px;
      min-width: 100px;
    }

    .timer.warning {
      background: var(--orange);
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }

    .word-card {
      background: white;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 12px;
      border: 2px solid rgba(148, 163, 184, 0.3);
      text-align: center;
    }

    .word-to-guess {
      font-size: 2.2rem;
      font-weight: 700;
      color: var(--indigo);
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .forbidden-words {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .forbidden-word {
      font-size: 1rem;
      font-weight: 600;
      color: var(--red);
      padding: 6px 10px;
      background: #fee2e2;
      border-radius: 8px;
    }

    .action-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      margin-bottom: 12px;
    }

    .action-btn {
      padding: 16px;
      border-radius: 12px;
      border: none;
      font-size: 1.5rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .action-btn:active {
      transform: scale(0.95);
    }

    .btn-correct {
      background: var(--green);
      color: white;
    }

    .btn-correct:hover {
      background: #45a049;
    }

    .btn-skip {
      background: #e9ecef;
      color: var(--muted);
    }

    .btn-skip:hover {
      background: #cbd5e0;
    }

    .btn-wrong {
      background: var(--red);
      color: white;
    }

    .btn-wrong:hover {
      background: #dc2626;
    }

    .control-buttons {
      display: flex;
      gap: 10px;
    }

    .btn-half {
      flex: 1;
    }

    /* Winner screen */
    .winner-card {
      text-align: center;
      padding: 20px;
    }

    .winner-emoji {
      font-size: 4rem;
      margin-bottom: 16px;
    }

    .winner-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--indigo);
      margin-bottom: 8px;
    }

    .winner-subtitle {
      font-size: 1.1rem;
      color: var(--muted);
      margin-bottom: 24px;
    }

    .final-scores {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      border: 2px solid rgba(148, 163, 184, 0.3);
    }

    .final-score-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
    }

    .final-score-row:not(:last-child) {
      border-bottom: 1px solid #e9ecef;
    }

    .final-score-team {
      font-size: 1rem;
      font-weight: 600;
      color: var(--indigo);
    }

    .final-score-points {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--sky);
    }

    @media (max-width: 600px) {
      .word-to-guess {
        font-size: 1.8rem;
        margin-bottom: 12px;
      }

      .action-btn {
        padding: 14px;
        font-size: 1.3rem;
      }

      .timer {
        font-size: 1.8rem;
        padding: 12px 16px;
        min-width: 90px;
      }

      .team-points {
        font-size: 1.8rem;
      }

      .word-card {
        padding: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="fixed-header">
    <div class="christmas-lights">
      <img src="gorro.png" alt="">
    </div>
    <div class="header-content">
      <div class="header-title">Tab√∫</div>
      <a href="index.html" class="home-btn">‚Üê Inicio</a>
    </div>
  </div>

  <div class="container">
    <main class="app">
      <!-- PANTALLA 1: INICIO -->
      <div id="splashScreen" class="screen active">
        <div class="content">
          <p class="intro-text">
            ¬°Hac√© que tu equipo adivine la palabra sin usar las palabras prohibidas!
          </p>
          <div class="btn-group">
            <button class="btn btn-primary" onclick="goToSetup()">Nuevo juego</button>
            <button id="resumeBtn" class="btn btn-secondary" onclick="resumeGame()" style="display: none;">Reanudar juego</button>
          </div>
        </div>
      </div>

      <!-- PANTALLA 2: CONFIGURACI√ìN -->
      <div id="setupScreen" class="screen">
        <div class="content">
          <div class="form-group">
            <label>Nombre Equipo 1</label>
            <input type="text" id="team1Name" placeholder="Los Carpinchos" />
          </div>

          <div class="form-group">
            <label>Nombre Equipo 2</label>
            <input type="text" id="team2Name" placeholder="Los √ëand√∫es" />
          </div>

          <div class="form-group">
            <label>Tiempo por ronda (segundos)</label>
            <div class="number-control">
              <button class="number-btn" onclick="changeTime(-15)">‚àí</button>
              <div class="number-display" id="timeDisplay">60</div>
              <button class="number-btn" onclick="changeTime(15)">+</button>
            </div>
          </div>

          <div class="form-group">
            <label>Puntos para ganar</label>
            <div class="number-control">
              <button class="number-btn" onclick="changePoints(-5)">‚àí</button>
              <div class="number-display" id="pointsDisplay">30</div>
              <button class="number-btn" onclick="changePoints(5)">+</button>
            </div>
          </div>

          <button class="btn btn-primary" onclick="startGame()">Empezar</button>
        </div>
      </div>

      <!-- PANTALLA 3: INICIO DE TURNO -->
      <div id="turnStartScreen" class="screen">
        <div class="content">
          <div class="winner-card">
            <div class="winner-emoji">üéØ</div>
            <div class="winner-title" id="turnStartTeamName">Turno del Equipo 1</div>
            <div class="winner-subtitle">¬øListos para empezar?</div>
          </div>

          <div class="final-scores">
            <div class="final-score-row">
              <span class="final-score-team" id="scoreTeam1Name">Equipo 1</span>
              <span class="final-score-points" id="scoreTeam1Points">0</span>
            </div>
            <div class="final-score-row">
              <span class="final-score-team" id="scoreTeam2Name">Equipo 2</span>
              <span class="final-score-points" id="scoreTeam2Points">0</span>
            </div>
          </div>

          <div class="btn-group">
            <button class="btn btn-primary" onclick="startTurnFromScreen()">Empezar turno</button>
            <button class="btn btn-secondary" onclick="goToHome()">Volver al inicio</button>
          </div>
        </div>
      </div>

      <!-- PANTALLA 4: JUEGO -->
      <div id="gameScreen" class="screen">
        <div class="game-header">
          <div class="current-team-info">
            <div class="team-name" id="currentTeamName">Equipo 1</div>
            <div class="team-points" id="currentTeamPoints">0</div>
          </div>
          <div class="timer" id="timer">60</div>
        </div>

        <div class="word-card">
          <div class="word-to-guess" id="wordToGuess">CARPINCHO</div>
          <div class="forbidden-words" id="forbiddenWords">
            <!-- Se llenan din√°micamente -->
          </div>
        </div>

        <div class="action-buttons">
          <button class="action-btn btn-wrong" onclick="penalize()">‚àí1</button>
          <button class="action-btn btn-skip" onclick="skip()">PASO</button>
          <button class="action-btn btn-correct" onclick="correct()">+1</button>
        </div>

        <div class="control-buttons">
          <button class="btn btn-secondary btn-half" id="pauseBtn" onclick="togglePause()">‚è∏ Pausar</button>
          <button class="btn btn-secondary btn-half" onclick="endTurnManually()">Terminar turno</button>
        </div>
      </div>

      <!-- PANTALLA 5: GANADOR -->
      <div id="winnerScreen" class="screen">
        <div class="content">
          <div class="winner-card">
            <div class="winner-emoji">üèÜ</div>
            <div class="winner-title" id="winnerName">¬°Equipo Ganador!</div>
            <div class="winner-subtitle">¬°Felicitaciones!</div>
          </div>

          <div class="final-scores">
            <div class="final-score-row">
              <span class="final-score-team" id="finalTeam1Name">Equipo 1</span>
              <span class="final-score-points" id="finalTeam1Points">0</span>
            </div>
            <div class="final-score-row">
              <span class="final-score-team" id="finalTeam2Name">Equipo 2</span>
              <span class="final-score-points" id="finalTeam2Points">0</span>
            </div>
          </div>

          <div class="btn-group">
            <button class="btn btn-primary" onclick="goToSetup()">Jugar de nuevo</button>
            <button class="btn btn-secondary" onclick="goToHome()">Volver al inicio</button>
          </div>
        </div>
      </div>

      <footer>
        <span>Carpincho Games ¬∑ üéØ Tab√∫</span>
      </footer>
    </main>
  </div>

  <script>
    // Base de datos de palabras (250+)
    const wordDatabase = [
      { word: "MATE", forbidden: ["YERBA", "BOMBILLA", "CALABAZA", "AMARGO", "ARGENTINO"] },
      { word: "ASADO", forbidden: ["CARNE", "PARRILLA", "FUEGO", "CARB√ìN", "DOMINGO"] },
      { word: "TANGO", forbidden: ["BAILE", "ARGENTINA", "GARDEL", "M√öSICA", "BANDONE√ìN"] },
      { word: "F√öTBOL", forbidden: ["PELOTA", "GOL", "CANCHA", "DEPORTE", "EQUIPO"] },
      { word: "PIZZA", forbidden: ["MASA", "QUESO", "HORNO", "SALSA", "ITALIANA"] },
      { word: "CELULAR", forbidden: ["TEL√âFONO", "WHATSAPP", "PANTALLA", "LLAMAR", "M√ìVIL"] },
      { word: "PERRO", forbidden: ["ANIMAL", "MASCOTA", "LADRAR", "CACHORRO", "CUATRO"] },
      { word: "PEL√çCULA", forbidden: ["CINE", "ACTOR", "DIRECTOR", "NETFLIX", "VER"] },
      { word: "PLAYA", forbidden: ["MAR", "ARENA", "SOL", "VERANO", "AGUA"] },
      { word: "CAMA", forbidden: ["DORMIR", "COLCH√ìN", "S√ÅBANAS", "ALMOHADA", "MUEBLE"] },
      
      { word: "MILANESA", forbidden: ["CARNE", "EMPANADA", "FRITA", "NAPOLITANA", "REBOZADA"] },
      { word: "CHORIP√ÅN", forbidden: ["CHORIZO", "PAN", "ASADO", "CHIMICHURRI", "S√ÅNDWICH"] },
      { word: "EMPANADA", forbidden: ["MASA", "RELLENO", "HORNO", "CARNE", "FRITA"] },
      { word: "DULCE DE LECHE", forbidden: ["LECHE", "POSTRE", "CARAMELO", "AZ√öCAR", "ARGENTINO"] },
      { word: "ALFAJOR", forbidden: ["CHOCOLATE", "DULCE", "POSTRE", "MAICENA", "GOLOSINA"] },
      
      { word: "BONDI", forbidden: ["COLECTIVO", "TRANSPORTE", "PARAR", "BOLETO", "SUBIR"] },
      { word: "SUBTE", forbidden: ["METRO", "TREN", "SUBTERR√ÅNEO", "TRANSPORTE", "BAJO"] },
      { word: "TAXI", forbidden: ["AUTO", "CONDUCTOR", "VIAJE", "PAGAR", "AMARILLO"] },
      { word: "REMIS", forbidden: ["AUTO", "TAXI", "CONDUCTOR", "VIAJE", "LLAMAR"] },
      { word: "BICICLETA", forbidden: ["PEDAL", "RUEDA", "ANDAR", "MANUBRIO", "CADENA"] },
      
      { word: "COMPUTADORA", forbidden: ["PANTALLA", "TECLADO", "MOUSE", "ESCRITORIO", "PC"] },
      { word: "TELEVISOR", forbidden: ["PANTALLA", "CANAL", "VER", "CONTROL", "PROGRAMA"] },
      { word: "HELADERA", forbidden: ["FR√çO", "COMIDA", "FREEZER", "COCINA", "GUARDAR"] },
      { word: "LAVARROPAS", forbidden: ["ROPA", "LAVAR", "JAB√ìN", "TAMBOR", "ELECTRODOM√âSTICO"] },
      { word: "MICROONDAS", forbidden: ["CALENTAR", "COCINAR", "HORNO", "ELECTRODOM√âSTICO", "R√ÅPIDO"] },
      
      { word: "M√âDICO", forbidden: ["DOCTOR", "HOSPITAL", "ENFERMO", "CURAR", "CONSULTA"] },
      { word: "MAESTRO", forbidden: ["PROFESOR", "ESCUELA", "ENSE√ëAR", "ALUMNO", "CLASE"] },
      { word: "POLIC√çA", forbidden: ["UNIFORMADO", "LEY", "ORDEN", "ARRESTAR", "PATRULLA"] },
      { word: "BOMBERO", forbidden: ["FUEGO", "INCENDIO", "APAGAR", "CAMI√ìN", "ROJO"] },
      { word: "CARTERO", forbidden: ["CORREO", "CARTA", "BUZ√ìN", "ENTREGAR", "REPARTIR"] },
      
      { word: "PRIMAVERA", forbidden: ["ESTACI√ìN", "FLORES", "SEPTIEMBRE", "CLIMA", "JARD√çN"] },
      { word: "VERANO", forbidden: ["CALOR", "ESTACI√ìN", "PLAYA", "DICIEMBRE", "ENERO"] },
      { word: "OTO√ëO", forbidden: ["ESTACI√ìN", "HOJAS", "MARZO", "VIENTO", "CAER"] },
      { word: "INVIERNO", forbidden: ["FR√çO", "ESTACI√ìN", "NIEVE", "JUNIO", "JULIO"] },
      { word: "LLUVIA", forbidden: ["AGUA", "PARAGUAS", "MOJADO", "NUBE", "CAER"] },
      
      { word: "CUMPLEA√ëOS", forbidden: ["TORTA", "VELAS", "REGALO", "FESTEJAR", "EDAD"] },
      { word: "CASAMIENTO", forbidden: ["BODA", "NOVIOS", "IGLESIA", "ANILLO", "FIESTA"] },
      { word: "NAVIDAD", forbidden: ["DICIEMBRE", "√ÅRBOL", "PAPA NOEL", "REGALOS", "FIESTA"] },
      { word: "A√ëO NUEVO", forbidden: ["ENERO", "BRINDIS", "FIESTA", "FUEGOS", "MEDIANOCHE"] },
      { word: "CARNAVAL", forbidden: ["FIESTA", "DISFRAZ", "M√öSICA", "FEBRERO", "COMPARSA"] },
      
      { word: "GUITARRA", forbidden: ["INSTRUMENTO", "CUERDAS", "M√öSICA", "TOCAR", "SONIDO"] },
      { word: "PIANO", forbidden: ["INSTRUMENTO", "TECLAS", "M√öSICA", "TOCAR", "BLANCO"] },
      { word: "BATER√çA", forbidden: ["INSTRUMENTO", "TAMBOR", "M√öSICA", "GOLPEAR", "RITMO"] },
      { word: "FLAUTA", forbidden: ["INSTRUMENTO", "SOPLAR", "M√öSICA", "SONIDO", "TUBO"] },
      { word: "VIOL√çN", forbidden: ["INSTRUMENTO", "CUERDAS", "M√öSICA", "ARCO", "SONIDO"] },
      
      { word: "BANANA", forbidden: ["FRUTA", "AMARILLO", "MONO", "COMER", "C√ÅSCARA"] },
      { word: "MANZANA", forbidden: ["FRUTA", "ROJA", "COMER", "VERDE", "√ÅRBOL"] },
      { word: "NARANJA", forbidden: ["FRUTA", "COLOR", "JUGO", "C√çTRICO", "VITAMINA"] },
      { word: "SAND√çA", forbidden: ["FRUTA", "ROJA", "GRANDE", "SEMILLAS", "VERANO"] },
      { word: "UVA", forbidden: ["FRUTA", "VINO", "RACIMO", "PEQUE√ëA", "MORADA"] },
      
      { word: "CEBOLLA", forbidden: ["VERDURA", "LLORAR", "CORTAR", "COCINAR", "BLANCA"] },
      { word: "TOMATE", forbidden: ["VERDURA", "ROJO", "SALSA", "ENSALADA", "REDONDO"] },
      { word: "LECHUGA", forbidden: ["VERDURA", "VERDE", "ENSALADA", "HOJAS", "FRESCA"] },
      { word: "PAPA", forbidden: ["VERDURA", "FRITAS", "PUR√â", "TIERRA", "REDONDA"] },
      { word: "ZANAHORIA", forbidden: ["VERDURA", "NARANJA", "CONEJO", "LARGA", "RA√çZ"] },
      
      { word: "CAF√â", forbidden: ["BEBIDA", "NEGRO", "CAFE√çNA", "TAZA", "MA√ëANA"] },
      { word: "CERVEZA", forbidden: ["BEBIDA", "ALCOHOL", "ESPUMA", "BAR", "LATA"] },
      { word: "VINO", forbidden: ["BEBIDA", "ALCOHOL", "UVA", "TINTO", "COPA"] },
      { word: "AGUA", forbidden: ["BEBIDA", "L√çQUIDO", "SED", "TRANSPARENTE", "BEBER"] },
      { word: "GASEOSA", forbidden: ["BEBIDA", "COCA", "BURBUJAS", "DULCE", "BOTELLA"] },
      
      { word: "PANTAL√ìN", forbidden: ["ROPA", "PIERNAS", "JEAN", "VESTIR", "LARGO"] },
      { word: "REMERA", forbidden: ["ROPA", "MANGA", "VESTIR", "CAMISETA", "TORSO"] },
      { word: "ZAPATILLAS", forbidden: ["CALZADO", "PIES", "CORRER", "DEPORTIVO", "CORDONES"] },
      { word: "CAMPERA", forbidden: ["ROPA", "ABRIGO", "FR√çO", "MANGAS", "VESTIR"] },
      { word: "GORRA", forbidden: ["ACCESORIO", "CABEZA", "VISERA", "SOL", "B√âISBOL"] },
      
      { word: "LIBRO", forbidden: ["LEER", "P√ÅGINAS", "HISTORIA", "TEXTO", "AUTOR"] },
      { word: "L√ÅPIZ", forbidden: ["ESCRIBIR", "GRAFITO", "PUNTA", "DIBUJAR", "MADERA"] },
      { word: "CUADERNO", forbidden: ["ESCRIBIR", "HOJAS", "ESPIRAL", "ESCUELA", "ANOTACIONES"] },
      { word: "MOCHILA", forbidden: ["BOLSO", "ESPALDA", "CARGAR", "ESCUELA", "GUARDAR"] },
      { word: "PIZARRA", forbidden: ["ESCRIBIR", "TIZA", "AULA", "BORRAR", "VERDE"] },
      
      { word: "RELOJ", forbidden: ["HORA", "TIEMPO", "MU√ëECA", "AGUJAS", "PULSERA"] },
      { word: "ANTEOJOS", forbidden: ["VER", "LENTES", "OJOS", "VISTA", "MARCO"] },
      { word: "BILLETERA", forbidden: ["DINERO", "BOLSILLO", "TARJETAS", "DOCUMENTOS", "CUERO"] },
      { word: "PARAGUAS", forbidden: ["LLUVIA", "MOJARSE", "ABRIR", "AGUA", "PROTEGER"] },
      { word: "LLAVE", forbidden: ["PUERTA", "ABRIR", "CERRADURA", "METAL", "CERRAR"] },
      
      { word: "SILLA", forbidden: ["SENTARSE", "MUEBLE", "PATAS", "RESPALDO", "ASIENTO"] },
      { word: "MESA", forbidden: ["MUEBLE", "COMER", "SUPERFICIE", "PATAS", "APOYO"] },
      { word: "SILL√ìN", forbidden: ["MUEBLE", "SENTARSE", "C√ìMODO", "LIVING", "GRANDE"] },
      { word: "VENTANA", forbidden: ["VIDRIO", "ABRIR", "LUZ", "AFUERA", "MARCO"] },
      { word: "PUERTA", forbidden: ["ENTRAR", "ABRIR", "CERRAR", "SALIR", "MADERA"] },
      
      { word: "AVI√ìN", forbidden: ["VOLAR", "CIELO", "AEROPUERTO", "PASAJEROS", "ALAS"] },
      { word: "TREN", forbidden: ["V√çAS", "ESTACI√ìN", "TRANSPORTE", "PASAJEROS", "VAG√ìN"] },
      { word: "BARCO", forbidden: ["MAR", "AGUA", "NAVEGAR", "PUERTO", "VELA"] },
      { word: "MOTO", forbidden: ["DOS", "RUEDAS", "MOTOR", "CASCO", "ANDAR"] },
      { word: "CAMI√ìN", forbidden: ["GRANDE", "CARGA", "TRANSPORTE", "RUEDAS", "MERCADER√çA"] },
      
      { word: "HOSPITAL", forbidden: ["M√âDICO", "ENFERMO", "CURAR", "SALUD", "PACIENTE"] },
      { word: "ESCUELA", forbidden: ["ESTUDIAR", "MAESTRO", "ALUMNO", "APRENDER", "AULA"] },
      { word: "SUPERMERCADO", forbidden: ["COMPRAR", "COMIDA", "PRODUCTOS", "CARRITO", "G√ìNDOLA"] },
      { word: "BANCO", forbidden: ["DINERO", "PLATA", "CUENTA", "CAJERO", "PR√âSTAMO"] },
      { word: "RESTAURANTE", forbidden: ["COMER", "COMIDA", "MEN√ö", "MESERO", "PLATOS"] },
      
      { word: "PA√çS", forbidden: ["NACI√ìN", "BANDERA", "TERRITORIO", "GOBIERNO", "FRONTERA"] },
      { word: "CIUDAD", forbidden: ["PUEBLO", "URBANO", "EDIFICIOS", "CALLES", "GENTE"] },
      { word: "BARRIO", forbidden: ["CIUDAD", "ZONA", "VECINO", "CASA", "LUGAR"] },
      { word: "PARQUE", forbidden: ["VERDE", "JUEGOS", "√ÅRBOLES", "PLAZA", "C√âSPED"] },
      { word: "PLAZA", forbidden: ["PARQUE", "BANCO", "CENTRO", "MONUMENTO", "PALOMAS"] },
      
      { word: "SOL", forbidden: ["ASTRO", "LUZ", "D√çA", "CALOR", "AMARILLO"] },
      { word: "LUNA", forbidden: ["SAT√âLITE", "NOCHE", "BRILLA", "CIELO", "REDONDA"] },
      { word: "ESTRELLA", forbidden: ["CIELO", "NOCHE", "BRILLA", "PUNTA", "LUZ"] },
      { word: "NUBE", forbidden: ["CIELO", "AGUA", "BLANCA", "LLUVIA", "FLOTAR"] },
      { word: "ARCO√çRIS", forbidden: ["COLORES", "LLUVIA", "SOL", "CIELO", "SIETE"] },
      
      { word: "MONTA√ëA", forbidden: ["ALTO", "ESCALADA", "NIEVE", "PICO", "CORDILLERA"] },
      { word: "R√çO", forbidden: ["AGUA", "CORRIENTE", "PECES", "PUENTE", "CAUDAL"] },
      { word: "LAGO", forbidden: ["AGUA", "QUIETA", "PECES", "GRANDE", "REDONDO"] },
      { word: "DESIERTO", forbidden: ["ARENA", "CALOR", "SECO", "CACTUS", "CAMELLO"] },
      { word: "SELVA", forbidden: ["√ÅRBOLES", "VERDE", "ANIMALES", "HUMEDAD", "PLANTAS"] },
      
      { word: "LE√ìN", forbidden: ["ANIMAL", "MELENA", "RUGIR", "√ÅFRICA", "REY"] },
      { word: "ELEFANTE", forbidden: ["ANIMAL", "TROMPA", "GRANDE", "GRIS", "COLMILLOS"] },
      { word: "JIRAFA", forbidden: ["ANIMAL", "CUELLO", "ALTA", "MANCHAS", "√ÅFRICA"] },
      { word: "MONO", forbidden: ["ANIMAL", "BANANA", "√ÅRBOL", "COLA", "CHIMPANC√â"] },
      { word: "VACA", forbidden: ["ANIMAL", "LECHE", "CAMPO", "MUGIR", "CUERNOS"] },
      
      { word: "GATO", forbidden: ["ANIMAL", "MASCOTA", "MAULLAR", "BIGOTES", "PELUDO"] },
      { word: "P√ÅJARO", forbidden: ["ANIMAL", "VOLAR", "ALAS", "CANTAR", "PICO"] },
      { word: "PEZ", forbidden: ["ANIMAL", "AGUA", "NADAR", "ESCAMAS", "ALETAS"] },
      { word: "ARA√ëA", forbidden: ["INSECTO", "TELARA√ëA", "OCHO", "PATAS", "VENENOSA"] },
      { word: "HORMIGA", forbidden: ["INSECTO", "PEQUE√ëA", "TRABAJADORA", "COLONIA", "ROJA"] },
      
      { word: "FLOR", forbidden: ["PLANTA", "P√âTALOS", "ROSA", "JARD√çN", "OLOR"] },
      { word: "√ÅRBOL", forbidden: ["PLANTA", "TRONCO", "HOJAS", "GRANDE", "MADERA"] },
      { word: "C√âSPED", forbidden: ["PASTO", "VERDE", "CORTAR", "JARD√çN", "CRECER"] },
      { word: "SEMILLA", forbidden: ["PLANTA", "PEQUE√ëA", "GERMINAR", "TIERRA", "CRECER"] },
      { word: "RA√çZ", forbidden: ["PLANTA", "TIERRA", "ABAJO", "ALIMENTAR", "ENTERRADA"] },
      
      { word: "MARTILLO", forbidden: ["HERRAMIENTA", "CLAVO", "GOLPEAR", "MADERA", "METAL"] },
      { word: "DESTORNILLADOR", forbidden: ["HERRAMIENTA", "TORNILLO", "GIRAR", "PUNTA", "ATORNILLAR"] },
      { word: "SIERRA", forbidden: ["HERRAMIENTA", "CORTAR", "MADERA", "DIENTES", "FILO"] },
      { word: "PINZA", forbidden: ["HERRAMIENTA", "AGARRAR", "SUJETAR", "METAL", "ELECTRICIDAD"] },
      { word: "TIJERA", forbidden: ["CORTAR", "PAPEL", "FILO", "DOS", "HOJAS"] },
      
      { word: "PINTURA", forbidden: ["COLOR", "PINTAR", "CUADRO", "PINCEL", "ARTE"] },
      { word: "DIBUJO", forbidden: ["L√ÅPIZ", "PAPEL", "L√çNEA", "IMAGEN", "ARTE"] },
      { word: "M√öSICA", forbidden: ["SONIDO", "CANCI√ìN", "ESCUCHAR", "INSTRUMENTO", "RITMO"] },
      { word: "DANZA", forbidden: ["BAILAR", "M√öSICA", "RITMO", "MOVIMIENTO", "CUERPO"] },
      { word: "TEATRO", forbidden: ["OBRA", "ACTOR", "ESCENARIO", "P√öBLICO", "REPRESENTACI√ìN"] },
      
      { word: "BOXEO", forbidden: ["DEPORTE", "PELEA", "GUANTES", "RING", "GOLPEAR"] },
      { word: "NATACI√ìN", forbidden: ["DEPORTE", "AGUA", "NADAR", "PILETA", "BRAZADA"] },
      { word: "TENIS", forbidden: ["DEPORTE", "RAQUETA", "PELOTA", "CANCHA", "RED"] },
      { word: "B√ÅSQUET", forbidden: ["DEPORTE", "ARO", "PELOTA", "ENCESTE", "CINCO"] },
      { word: "VOLEY", forbidden: ["DEPORTE", "RED", "PELOTA", "SACAR", "EQUIPO"] },
      
      { word: "RISA", forbidden: ["RE√çR", "ALEGRE", "BOCA", "GRACIA", "CARCAJADA"] },
      { word: "LLANTO", forbidden: ["LLORAR", "L√ÅGRIMAS", "TRISTE", "SOLLOZAR", "PENA"] },
      { word: "ENOJO", forbidden: ["RABIA", "BRONCA", "MOLESTO", "FURIA", "ENFADADO"] },
      { word: "MIEDO", forbidden: ["SUSTO", "TEMOR", "ASUSTAR", "TERROR", "PELIGRO"] },
      { word: "AMOR", forbidden: ["QUERER", "SENTIMIENTO", "CORAZ√ìN", "PAREJA", "AMAR"] },
      
      { word: "DORMIR", forbidden: ["SUE√ëO", "CAMA", "NOCHE", "DESCANSAR", "OJOS"] },
      { word: "COMER", forbidden: ["ALIMENTO", "BOCA", "HAMBRE", "MASTICAR", "TRAGAR"] },
      { word: "CAMINAR", forbidden: ["ANDAR", "PIES", "PASEO", "PIERNAS", "MOVIMIENTO"] },
      { word: "CORRER", forbidden: ["R√ÅPIDO", "TROTAR", "CARRERA", "VELOCIDAD", "PIERNAS"] },
      { word: "SALTAR", forbidden: ["BRINCO", "ARRIBA", "ALTURA", "PIES", "ELEVARSE"] },
      
      { word: "HABLAR", forbidden: ["DECIR", "PALABRA", "BOCA", "CONVERSAR", "VOZ"] },
      { word: "ESCUCHAR", forbidden: ["O√çR", "O√çDO", "SONIDO", "ATENDER", "ESCUCHA"] },
      { word: "MIRAR", forbidden: ["VER", "OJOS", "OBSERVAR", "VISTA", "CONTEMPLAR"] },
      { word: "TOCAR", forbidden: ["MANO", "SENTIR", "TACTO", "PALPAR", "PIEL"] },
      { word: "OLER", forbidden: ["OLFATO", "NARIZ", "AROMA", "PERFUME", "SENTIR"] },
      
      { word: "CALIENTE", forbidden: ["TEMPERATURA", "FUEGO", "QUEMAR", "ARDIENTE", "FR√çO"] },
      { word: "FR√çO", forbidden: ["TEMPERATURA", "HIELO", "CONGELADO", "HELADO", "CALIENTE"] },
      { word: "GRANDE", forbidden: ["TAMA√ëO", "ENORME", "GIGANTE", "PEQUE√ëO", "AMPLIO"] },
      { word: "PEQUE√ëO", forbidden: ["TAMA√ëO", "CHICO", "DIMINUTO", "GRANDE", "REDUCIDO"] },
      { word: "R√ÅPIDO", forbidden: ["VELOCIDAD", "VELOZ", "APURADO", "LENTO", "PRONTO"] },
      
      { word: "ARRIBA", forbidden: ["ALTO", "CIELO", "SUBIR", "ABAJO", "SUPERIOR"] },
      { word: "ABAJO", forbidden: ["BAJO", "SUELO", "BAJAR", "ARRIBA", "INFERIOR"] },
      { word: "ADELANTE", forbidden: ["FRENTE", "DELANTE", "AVANZAR", "ATR√ÅS", "PRIMERO"] },
      { word: "ATR√ÅS", forbidden: ["DETR√ÅS", "RETROCEDER", "ADELANTE", "POSTERIOR", "ANTES"] },
      { word: "ADENTRO", forbidden: ["DENTRO", "INTERIOR", "ENTRAR", "AFUERA", "CASA"] },
      
      { word: "DOMINGO", forbidden: ["D√çA", "SEMANA", "DESCANSO", "FIN", "ASADO"] },
      { word: "LUNES", forbidden: ["D√çA", "SEMANA", "PRIMERO", "TRABAJO", "ESCUELA"] },
      { word: "ENERO", forbidden: ["MES", "PRIMERO", "VERANO", "A√ëO", "NUEVO"] },
      { word: "DICIEMBRE", forbidden: ["MES", "√öLTIMO", "NAVIDAD", "A√ëO", "VERANO"] },
      { word: "MA√ëANA", forbidden: ["D√çA", "SOL", "DESPERTAR", "TEMPRANO", "TARDE"] },
      
      { word: "ROJO", forbidden: ["COLOR", "SANGRE", "FUEGO", "TOMATE", "VERDE"] },
      { word: "AZUL", forbidden: ["COLOR", "CIELO", "MAR", "CELESTE", "VERDE"] },
      { word: "VERDE", forbidden: ["COLOR", "PASTO", "√ÅRBOL", "AZUL", "ROJO"] },
      { word: "AMARILLO", forbidden: ["COLOR", "SOL", "BANANA", "PATITO", "VERDE"] },
      { word: "NEGRO", forbidden: ["COLOR", "OSCURO", "NOCHE", "CARB√ìN", "BLANCO"] },
      
      { word: "UNO", forbidden: ["N√öMERO", "PRIMERO", "√öNICO", "SOLO", "DOS"] },
      { word: "DOS", forbidden: ["N√öMERO", "PAR", "SEGUNDO", "UNO", "TRES"] },
      { word: "TRES", forbidden: ["N√öMERO", "TERCERO", "DOS", "CUATRO", "TR√çO"] },
      { word: "DIEZ", forbidden: ["N√öMERO", "DEDOS", "CIFRA", "ONCE", "NUEVE"] },
      { word: "CIEN", forbidden: ["N√öMERO", "CIENTO", "MIL", "CIFRA", "GRANDE"] },
      
      { word: "C√çRCULO", forbidden: ["FORMA", "REDONDO", "RUEDA", "GEOMETR√çA", "CURVA"] },
      { word: "CUADRADO", forbidden: ["FORMA", "CUATRO", "LADOS", "GEOMETR√çA", "√ÅNGULOS"] },
      { word: "TRI√ÅNGULO", forbidden: ["FORMA", "TRES", "LADOS", "PICO", "GEOMETR√çA"] },
      { word: "RECT√ÅNGULO", forbidden: ["FORMA", "CUADRADO", "LARGO", "LADOS", "GEOMETR√çA"] },
      { word: "ESTRELLA", forbidden: ["FORMA", "PUNTAS", "CIELO", "CINCO", "BRILLA"] },
      
      { word: "PAPA NOEL", forbidden: ["NAVIDAD", "REGALOS", "BARBA", "ROJO", "DICIEMBRE"] },
      { word: "RAT√ìN P√âREZ", forbidden: ["DIENTE", "DINERO", "ALMOHADA", "NI√ëO", "RAT√ìN"] },
      { word: "SUPERH√âROE", forbidden: ["CAPA", "PODER", "SALVAR", "VOLAR", "FUERTE"] },
      { word: "PRINCESA", forbidden: ["CASTILLO", "CORONA", "PR√çNCIPE", "VESTIDO", "REINA"] },
      { word: "DINOSAURIO", forbidden: ["EXTINTO", "ENORME", "ANTIGUO", "REPTIL", "TIRANOSAURIO"] },
      
      { word: "COCINAR", forbidden: ["COMIDA", "COCINA", "CHEF", "PREPARAR", "HORNO"] },
      { word: "LIMPIAR", forbidden: ["SUCIO", "TRAPO", "LAVAR", "ORDENAR", "ESCOBA"] },
      { word: "ESTUDIAR", forbidden: ["LIBRO", "APRENDER", "EXAMEN", "ESCUELA", "LEER"] },
      { word: "TRABAJAR", forbidden: ["EMPLEO", "OFICINA", "JEFE", "SUELDO", "LABOR"] },
      { word: "JUGAR", forbidden: ["DIVERSI√ìN", "JUEGO", "ENTRETENIMIENTO", "NI√ëO", "PELOTA"] }
    ];

    let gameState = {
      team1Name: "Equipo 1",
      team2Name: "Equipo 2",
      team1Points: 0,
      team2Points: 0,
      currentTeam: 1,
      timePerRound: 60,
      pointsToWin: 30,
      currentWord: null,
      usedWords: [],
      timerInterval: null,
      timeRemaining: 60,
      isPaused: false
    };

    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(screen => {
        screen.classList.remove('active');
      });
      document.getElementById(screenId).classList.add('active');
    }

    function goToSetup() {
      if (localStorage.getItem('tabuGame')) {
        if (!confirm('Esto va a borrar tu partida guardada. ¬øContinuar?')) {
          return;
        }
        clearSavedGame();
      }
      showScreen('setupScreen');
    }

    function goToHome() {
      if (gameState.timerInterval) {
        clearInterval(gameState.timerInterval);
      }
      showScreen('splashScreen');
      checkForSavedGame();
    }

    function changeTime(delta) {
      gameState.timePerRound = Math.max(15, Math.min(180, gameState.timePerRound + delta));
      document.getElementById('timeDisplay').textContent = gameState.timePerRound;
    }

    function changePoints(delta) {
      gameState.pointsToWin = Math.max(10, Math.min(100, gameState.pointsToWin + delta));
      document.getElementById('pointsDisplay').textContent = gameState.pointsToWin;
    }

    function startGame() {
      const team1Input = document.getElementById('team1Name').value.trim();
      const team2Input = document.getElementById('team2Name').value.trim();
      
      gameState.team1Name = team1Input || "Equipo 1";
      gameState.team2Name = team2Input || "Equipo 2";
      gameState.team1Points = 0;
      gameState.team2Points = 0;
      gameState.currentTeam = 1;
      gameState.usedWords = [];
      
      saveGame();
      showTurnStartScreen();
    }

    function showTurnStartScreen() {
      const teamName = gameState.currentTeam === 1 ? gameState.team1Name : gameState.team2Name;
      document.getElementById('turnStartTeamName').textContent = `Turno de ${teamName}`;
      document.getElementById('scoreTeam1Name').textContent = gameState.team1Name;
      document.getElementById('scoreTeam2Name').textContent = gameState.team2Name;
      document.getElementById('scoreTeam1Points').textContent = gameState.team1Points;
      document.getElementById('scoreTeam2Points').textContent = gameState.team2Points;
      
      saveGame();
      showScreen('turnStartScreen');
    }

    function startTurnFromScreen() {
      updateGameScreen();
      showScreen('gameScreen');
      startNewTurn();
    }

    function updateGameScreen() {
      const currentTeamName = gameState.currentTeam === 1 ? gameState.team1Name : gameState.team2Name;
      const currentTeamPoints = gameState.currentTeam === 1 ? gameState.team1Points : gameState.team2Points;
      
      document.getElementById('currentTeamName').textContent = currentTeamName;
      document.getElementById('currentTeamPoints').textContent = currentTeamPoints;
    }

    function startNewTurn() {
      gameState.timeRemaining = gameState.timePerRound;
      gameState.isPaused = false;
      document.getElementById('pauseBtn').textContent = '‚è∏ Pausar';
      updateTimer();
      pickNewWord();
      
      if (gameState.timerInterval) {
        clearInterval(gameState.timerInterval);
      }
      
      gameState.timerInterval = setInterval(() => {
        if (!gameState.isPaused) {
          gameState.timeRemaining--;
          updateTimer();
          
          if (gameState.timeRemaining <= 10) {
            document.getElementById('timer').classList.add('warning');
          }
          
          if (gameState.timeRemaining <= 0) {
            endTurn();
          }
        }
      }, 1000);
    }

    function updateTimer() {
      document.getElementById('timer').textContent = gameState.timeRemaining;
    }

    function pickNewWord() {
      let availableWords = wordDatabase.filter(w => !gameState.usedWords.includes(w.word));
      
      if (availableWords.length === 0) {
        gameState.usedWords = [];
        availableWords = wordDatabase;
      }
      
      const randomWord = availableWords[Math.floor(Math.random() * availableWords.length)];
      gameState.currentWord = randomWord;
      gameState.usedWords.push(randomWord.word);
      saveGame();
      
      document.getElementById('wordToGuess').textContent = randomWord.word;
      
      const forbiddenContainer = document.getElementById('forbiddenWords');
      forbiddenContainer.innerHTML = '';
      randomWord.forbidden.forEach(word => {
        const div = document.createElement('div');
        div.className = 'forbidden-word';
        div.textContent = word;
        forbiddenContainer.appendChild(div);
      });
    }

    function correct() {
      if (gameState.currentTeam === 1) {
        gameState.team1Points++;
      } else {
        gameState.team2Points++;
      }
      updateGameScreen();
      saveGame();
      
      if (checkWinner()) {
        return;
      }
      
      pickNewWord();
    }

    function skip() {
      pickNewWord();
    }

    function penalize() {
      if (gameState.currentTeam === 1) {
        gameState.team1Points = Math.max(0, gameState.team1Points - 1);
      } else {
        gameState.team2Points = Math.max(0, gameState.team2Points - 1);
      }
      updateGameScreen();
      saveGame();
      pickNewWord();
    }

    function togglePause() {
      gameState.isPaused = !gameState.isPaused;
      const btn = document.getElementById('pauseBtn');
      
      if (gameState.isPaused) {
        btn.textContent = '‚ñ∂ Reanudar';
      } else {
        btn.textContent = '‚è∏ Pausar';
      }
    }

    function endTurnManually() {
      endTurn();
    }

    function endTurn() {
      if (gameState.timerInterval) {
        clearInterval(gameState.timerInterval);
      }
      
      document.getElementById('timer').classList.remove('warning');
      
      gameState.currentTeam = gameState.currentTeam === 1 ? 2 : 1;
      saveGame();
      showTurnStartScreen();
    }

    function checkWinner() {
      if (gameState.team1Points >= gameState.pointsToWin) {
        showWinner(gameState.team1Name, gameState.team1Points, gameState.team2Points);
        return true;
      } else if (gameState.team2Points >= gameState.pointsToWin) {
        showWinner(gameState.team2Name, gameState.team2Points, gameState.team1Points);
        return true;
      }
      return false;
    }

    function showWinner(winnerName, winnerPoints, loserPoints) {
      if (gameState.timerInterval) {
        clearInterval(gameState.timerInterval);
      }
      
      clearSavedGame();
      
      document.getElementById('winnerName').textContent = `¬°${winnerName} gan√≥!`;
      document.getElementById('finalTeam1Name').textContent = gameState.team1Name;
      document.getElementById('finalTeam2Name').textContent = gameState.team2Name;
      document.getElementById('finalTeam1Points').textContent = gameState.team1Points;
      document.getElementById('finalTeam2Points').textContent = gameState.team2Points;
      
      showScreen('winnerScreen');
    }

    // Initialize
    window.onload = function() {
      checkForSavedGame();
    };

    function checkForSavedGame() {
      const saved = localStorage.getItem('tabuGame');
      if (saved) {
        document.getElementById('resumeBtn').style.display = 'block';
      }
    }

    function saveGame() {
      localStorage.setItem('tabuGame', JSON.stringify(gameState));
    }

    function resumeGame() {
      const saved = localStorage.getItem('tabuGame');
      if (saved) {
        gameState = JSON.parse(saved);
        
        // Si estaba en medio de un turno, mostrar pantalla de inicio de turno
        if (gameState.timeRemaining > 0 && gameState.timeRemaining < gameState.timePerRound) {
          showTurnStartScreen();
        } else {
          showTurnStartScreen();
        }
      }
    }

    function clearSavedGame() {
      localStorage.removeItem('tabuGame');
      document.getElementById('resumeBtn').style.display = 'none';
    }
  </script>
</body>
</html>
